{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sawan\\\\Desktop\\\\stuff\\\\EWI-Installer-App-v2 - Copy (2)\\\\app\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Entypo } from '@expo/vector-icons';\nimport styles from \"./styles\";\nimport { AuthContext } from \"./context\";\nimport { SignIn, CreateAccount, Projects, BarcodeScreen, JobsScreen, Details, Prospects, Profile, Splash, CameraScreen } from \"./Screens\";\nvar STORAGE_KEY = '@save_auth';\n\nvar Burger = function Burger() {\n  return React.createElement(Entypo, {\n    name: \"menu\",\n    style: styles.iconStyle,\n    size: 36,\n    color: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  });\n};\n\nvar burgerOptions = function burgerOptions(_ref) {\n  var navigation = _ref.navigation;\n  return {\n    headerLeft: function headerLeft() {\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.toggleDrawer();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 61\n        }\n      }, React.createElement(Burger, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 121\n        }\n      }));\n    }\n  };\n};\n\nvar JobsStack = createStackNavigator();\n\nvar JobsStackScreen = function JobsStackScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  return React.createElement(JobsStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, React.createElement(JobsStack.Screen, {\n    name: \"Jobs\",\n    component: JobsScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar ProfileStack = createStackNavigator();\n\nvar ProfileStackScreen = function ProfileStackScreen() {\n  return React.createElement(ProfileStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }, React.createElement(ProfileStack.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar BarcodeStack = createStackNavigator();\n\nvar BarcodeStackScreen = function BarcodeStackScreen() {\n  return React.createElement(BarcodeStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, React.createElement(BarcodeStack.Screen, {\n    name: \"Barcode\",\n    component: BarcodeScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar CameraStack = createStackNavigator();\n\nvar CameraStackScreen = function CameraStackScreen() {\n  return React.createElement(CameraStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 3\n    }\n  }, React.createElement(CameraStack.Screen, {\n    name: \"Camera\",\n    component: CameraScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar UtilityTabs = createBottomTabNavigator();\n\nvar UtilityTabScreen = function UtilityTabScreen() {\n  return React.createElement(UtilityTabs.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 3\n    }\n  }, React.createElement(UtilityTabs.Screen, {\n    name: \"Barcode\",\n    component: BarcodeStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }), React.createElement(UtilityTabs.Screen, {\n    name: \"Camera\",\n    component: CameraStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Tabs = createBottomTabNavigator();\n\nvar TabsScreen = function TabsScreen() {\n  return React.createElement(Tabs.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, React.createElement(Tabs.Screen, {\n    name: \"Jobs\",\n    component: JobsStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Drawer = createDrawerNavigator();\n\nvar DrawerScreen = function DrawerScreen() {\n  return React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Jobs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 3\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Jobs\",\n    component: TabsScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Utilities\",\n    component: UtilityTabScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Profile\",\n    component: ProfileStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar AuthStack = createStackNavigator();\n\nvar AuthStackScreen = function AuthStackScreen() {\n  return React.createElement(AuthStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, React.createElement(AuthStack.Screen, {\n    name: \"SignIn\",\n    component: SignIn,\n    options: {\n      title: \"Sign In\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }), React.createElement(AuthStack.Screen, {\n    name: \"CreateAccount\",\n    component: CreateAccount,\n    options: {\n      title: \"Create Account\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar RootStack = createStackNavigator();\n\nvar RootStackScreen = function RootStackScreen(_ref3) {\n  var userToken = _ref3.userToken;\n  return React.createElement(RootStack.Navigator, {\n    headerMode: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 3\n    }\n  }, userToken ? React.createElement(RootStack.Screen, {\n    name: \"App\",\n    component: DrawerScreen,\n    options: {\n      animationEnabled: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }) : React.createElement(RootStack.Screen, {\n    name: \"Auth\",\n    component: AuthStackScreen,\n    options: {\n      animationEnabled: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default (function () {\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userToken = _React$useState4[0],\n      setUserToken = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      jwtToken = _React$useState6[0],\n      setJwtToken = _React$useState6[1];\n\n  var saveData = function saveData(auth_key) {\n    return _regeneratorRuntime.async(function saveData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(STORAGE_KEY, auth_key));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            alert('Failed to save session storage');\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var readData = function readData() {\n    var user_token;\n    return _regeneratorRuntime.async(function readData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(STORAGE_KEY));\n\n          case 3:\n            user_token = _context2.sent;\n\n            if (user_token !== null) {\n              setUserToken(user_token);\n            }\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert('Failed to fetch session storage');\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var clearStorage = function clearStorage() {\n    return _regeneratorRuntime.async(function clearStorage$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.clear());\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            alert('Failed to clear session storage');\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn(auth_key) {\n        setUserToken(auth_key);\n        setIsLoading(false);\n        saveData(auth_key);\n      },\n      signUp: function signUp() {\n        setIsLoading(false);\n        setUserToken(\"asdf\");\n      },\n      signOut: function signOut() {\n        setIsLoading(false);\n        setUserToken(null);\n        clearStorage();\n      },\n      jwt: function jwt(token) {\n        setJwtToken(token);\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    setTimeout(function () {\n      setIsLoading(false);\n    }, 1000);\n  }, []);\n  React.useEffect(function () {\n    readData();\n  }, []);\n\n  if (isLoading) {\n    return React.createElement(Splash, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return React.createElement(AuthContext.Provider, {\n    value: authContext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, React.createElement(RootStackScreen, {\n    userToken: userToken,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"sources":["C:/Users/sawan/Desktop/stuff/EWI-Installer-App-v2 - Copy (2)/app/App.js"],"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","createBottomTabNavigator","createDrawerNavigator","AsyncStorage","Entypo","styles","AuthContext","SignIn","CreateAccount","Projects","BarcodeScreen","JobsScreen","Details","Prospects","Profile","Splash","CameraScreen","STORAGE_KEY","Burger","iconStyle","burgerOptions","navigation","headerLeft","toggleDrawer","JobsStack","JobsStackScreen","ProfileStack","ProfileStackScreen","BarcodeStack","BarcodeStackScreen","CameraStack","CameraStackScreen","UtilityTabs","UtilityTabScreen","Tabs","TabsScreen","Drawer","DrawerScreen","AuthStack","AuthStackScreen","title","RootStack","RootStackScreen","userToken","animationEnabled","isLoading","setIsLoading","setUserToken","jwtToken","setJwtToken","saveData","auth_key","setItem","alert","readData","getItem","user_token","clearStorage","clear","authContext","useMemo","signIn","signUp","signOut","jwt","token","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }  from \"react\";\r\nimport { View, Text, StyleSheet, Button, TextInput, TouchableOpacity, Image } from \"react-native\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createStackNavigator } from \"@react-navigation/stack\";\r\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\r\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\r\nimport AsyncStorage from '@react-native-community/async-storage'\r\n//import { RNCamera } from 'react-native-camera';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport styles from './styles'\r\nimport { AuthContext } from \"./context\";\r\nimport {\r\n  SignIn,\r\n  CreateAccount,\r\n  Projects,\r\n  BarcodeScreen,\r\n  JobsScreen,\r\n  Details,\r\n  Prospects,\r\n  Profile,\r\n  Splash,\r\n  CameraScreen,\r\n} from \"./Screens\";\r\n\r\n\r\nconst STORAGE_KEY = '@save_auth'\r\n\r\n\r\nconst Burger = () => {\r\n  return (\r\n    <Entypo name=\"menu\" style={styles.iconStyle} size={36} color=\"black\" />\r\n  );\r\n}\r\n\r\nconst burgerOptions = ({navigation}) => ({headerLeft: () => <TouchableOpacity onPress={() => navigation.toggleDrawer()}><Burger/></TouchableOpacity>,})\r\n\r\n\r\nconst JobsStack = createStackNavigator();\r\nconst JobsStackScreen = ({navigation}) => (\r\n  <JobsStack.Navigator screenOptions={burgerOptions}>\r\n    <JobsStack.Screen name=\"Jobs\" component={JobsScreen}/>\r\n  </JobsStack.Navigator>\r\n);\r\n\r\n\r\n\r\nconst ProfileStack = createStackNavigator();\r\nconst ProfileStackScreen = () => (\r\n  <ProfileStack.Navigator screenOptions={burgerOptions}>\r\n    <ProfileStack.Screen name=\"Profile\" component={Profile} />\r\n  </ProfileStack.Navigator>\r\n);\r\n\r\nconst BarcodeStack = createStackNavigator();\r\nconst BarcodeStackScreen = () => (\r\n  <BarcodeStack.Navigator screenOptions={burgerOptions}>\r\n    <BarcodeStack.Screen name=\"Barcode\" component={BarcodeScreen} />\r\n  </BarcodeStack.Navigator>\r\n);\r\n\r\nconst CameraStack = createStackNavigator();\r\nconst CameraStackScreen = () => (\r\n  <CameraStack.Navigator  screenOptions={burgerOptions}>\r\n    <CameraStack.Screen name=\"Camera\" component={CameraScreen} />\r\n  </CameraStack.Navigator>\r\n);\r\n\r\nconst UtilityTabs = createBottomTabNavigator();\r\nconst UtilityTabScreen = () => (\r\n  <UtilityTabs.Navigator>\r\n    <UtilityTabs.Screen name=\"Barcode\" component={BarcodeStackScreen}  />\r\n    <UtilityTabs.Screen name=\"Camera\" component={CameraStackScreen} />\r\n  </UtilityTabs.Navigator>\r\n);\r\n\r\nconst Tabs = createBottomTabNavigator();\r\nconst TabsScreen = () => (\r\n  <Tabs.Navigator>\r\n    <Tabs.Screen name=\"Jobs\" component={JobsStackScreen} />\r\n  </Tabs.Navigator>\r\n);\r\n\r\nconst Drawer = createDrawerNavigator();\r\nconst DrawerScreen = () => (\r\n  <Drawer.Navigator initialRouteName=\"Jobs\">\r\n    <Drawer.Screen name=\"Jobs\" component={TabsScreen} />\r\n    <Drawer.Screen name=\"Utilities\" component={UtilityTabScreen} />\r\n    <Drawer.Screen name=\"Profile\" component={ProfileStackScreen} />\r\n  </Drawer.Navigator>\r\n);\r\n\r\n\r\nconst AuthStack = createStackNavigator();\r\nconst AuthStackScreen = () => (\r\n  <AuthStack.Navigator>\r\n    <AuthStack.Screen\r\n      name=\"SignIn\"\r\n      component={SignIn}\r\n      options={{ title: \"Sign In\" }}\r\n    />\r\n    <AuthStack.Screen\r\n      name=\"CreateAccount\"\r\n      component={CreateAccount}\r\n      options={{ title: \"Create Account\" }}\r\n    />\r\n  </AuthStack.Navigator>\r\n);\r\n\r\n\r\n\r\nconst RootStack = createStackNavigator();\r\nconst RootStackScreen = ({ userToken }) => (\r\n  <RootStack.Navigator headerMode=\"none\">\r\n    {userToken ? (\r\n      <RootStack.Screen\r\n        name=\"App\"\r\n        component={DrawerScreen}\r\n        options={{\r\n          animationEnabled: false\r\n        }}\r\n      />\r\n    ) : (\r\n      <RootStack.Screen\r\n        name=\"Auth\"\r\n        component={AuthStackScreen}\r\n        options={{\r\n          animationEnabled: false\r\n        }}\r\n      />\r\n    )}\r\n  </RootStack.Navigator>\r\n);\r\n\r\nexport default () => {\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [userToken, setUserToken] = React.useState(null);\r\n  const [jwtToken, setJwtToken] = React.useState(null);\r\n  const saveData = async (auth_key) => {\r\n    try {\r\n      await AsyncStorage.setItem(STORAGE_KEY, auth_key)\r\n    } catch (e) {\r\n      alert('Failed to save session storage')\r\n    }\r\n  }\r\n\r\n  const readData = async () => {\r\n    try {\r\n      const user_token = await AsyncStorage.getItem(STORAGE_KEY)\r\n  \r\n      if (user_token !== null) {\r\n        setUserToken(user_token)\r\n      }\r\n    } catch (e) {\r\n      alert('Failed to fetch session storage')\r\n    }\r\n  }\r\n\r\n  const clearStorage = async () => {\r\n    try {\r\n      await AsyncStorage.clear()\r\n    } catch (e) {\r\n      alert('Failed to clear session storage')\r\n    }\r\n  }\r\n\r\n  const authContext = React.useMemo(() => {\r\n    return {\r\n      signIn: (auth_key) => {\r\n        setUserToken(auth_key);\r\n        setIsLoading(false);\r\n        saveData(auth_key);\r\n      },\r\n      signUp: () => {\r\n        setIsLoading(false);\r\n        setUserToken(\"asdf\");\r\n      },\r\n      signOut: () => {\r\n        setIsLoading(false);\r\n        setUserToken(null);\r\n        clearStorage();\r\n      },\r\n      jwt: (token) => {\r\n        setJwtToken(token);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n  React.useEffect(() => {\r\n    readData()\r\n  }, []);\r\n\r\n\r\n  if (isLoading) {\r\n    return <Splash />;\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n      <NavigationContainer>\r\n        <RootStackScreen userToken={userToken} />\r\n      </NavigationContainer>\r\n    </AuthContext.Provider>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}