{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sawan\\\\Desktop\\\\stuff\\\\EWI-Installer-App-v2 - Copy (2)\\\\app\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { Entypo } from '@expo/vector-icons';\nimport styles from \"./styles\";\nimport { AuthContext } from \"./context\";\nimport { SignIn, CreateAccount, Projects, BarcodeScreen, JobsScreen, Details, Prospects, Profile, Splash, CameraScreen } from \"./Screens\";\nvar USER_STORAGE_KEY = '@save_user';\nvar USER_TYPE_STORAGE_KEY = '@save_user_type';\nvar AUTH_STORAGE_KEY = '@save_auth';\nvar JWT_STORAGE_KEY = '@save_jwt';\n\nvar Burger = function Burger() {\n  return React.createElement(Entypo, {\n    name: \"menu\",\n    style: styles.iconStyle,\n    size: 36,\n    color: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  });\n};\n\nvar burgerOptions = function burgerOptions(_ref) {\n  var navigation = _ref.navigation;\n  return {\n    headerLeft: function headerLeft() {\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.toggleDrawer();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 61\n        }\n      }, React.createElement(Burger, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 121\n        }\n      }));\n    }\n  };\n};\n\nvar JobsStack = createStackNavigator();\n\nvar JobsStackScreen = function JobsStackScreen(_ref2) {\n  var navigation = _ref2.navigation,\n      route = _ref2.route;\n  return React.createElement(JobsStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, React.createElement(JobsStack.Screen, {\n    name: \"Jobs\",\n    component: JobsScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar ProfileStack = createStackNavigator();\n\nvar ProfileStackScreen = function ProfileStackScreen() {\n  return React.createElement(ProfileStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, React.createElement(ProfileStack.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar BarcodeStack = createStackNavigator();\n\nvar BarcodeStackScreen = function BarcodeStackScreen() {\n  return React.createElement(BarcodeStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, React.createElement(BarcodeStack.Screen, {\n    name: \"Barcode\",\n    component: BarcodeScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar CameraStack = createStackNavigator();\n\nvar CameraStackScreen = function CameraStackScreen() {\n  return React.createElement(CameraStack.Navigator, {\n    screenOptions: burgerOptions,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 3\n    }\n  }, React.createElement(CameraStack.Screen, {\n    name: \"Camera\",\n    component: CameraScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar UtilityTabs = createBottomTabNavigator();\n\nvar UtilityTabScreen = function UtilityTabScreen() {\n  return React.createElement(UtilityTabs.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 3\n    }\n  }, React.createElement(UtilityTabs.Screen, {\n    name: \"Barcode\",\n    component: BarcodeStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), React.createElement(UtilityTabs.Screen, {\n    name: \"Camera\",\n    component: CameraStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Tabs = createBottomTabNavigator();\n\nvar TabsScreen = function TabsScreen() {\n  return React.createElement(Tabs.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 3\n    }\n  }, React.createElement(Tabs.Screen, {\n    name: \"Jobs\",\n    component: JobsStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Drawer = createDrawerNavigator();\n\nvar DrawerScreen = function DrawerScreen(_ref3) {\n  var route = _ref3.route;\n\n  var _React$useContext = React.useContext(AuthContext),\n      getJobs = _React$useContext.getJobs;\n\n  React.useEffect(function () {\n    getJobs(route.params.jwtToken.jwtToken);\n  }, []);\n  return React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Jobs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 3\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Jobs\",\n    component: TabsScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Utilities\",\n    component: UtilityTabScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Profile\",\n    component: ProfileStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar AuthStack = createStackNavigator();\n\nvar AuthStackScreen = function AuthStackScreen() {\n  return React.createElement(AuthStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 3\n    }\n  }, React.createElement(AuthStack.Screen, {\n    name: \"SignIn\",\n    component: SignIn,\n    options: {\n      title: \"Sign In\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }), React.createElement(AuthStack.Screen, {\n    name: \"CreateAccount\",\n    component: CreateAccount,\n    options: {\n      title: \"Create Account\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar RootStack = createStackNavigator();\n\nvar RootStackScreen = function RootStackScreen(_ref4) {\n  var userToken = _ref4.userToken,\n      userName = _ref4.userName,\n      userType = _ref4.userType,\n      jwtToken = _ref4.jwtToken;\n\n  var _React$useContext2 = React.useContext(AuthContext),\n      getJwt = _React$useContext2.getJwt;\n\n  var _React$useContext3 = React.useContext(AuthContext),\n      readJWTcontext = _React$useContext3.readJWTcontext;\n\n  React.useEffect(function () {\n    getJwt(userToken, userName, userType);\n    readJWTcontext();\n  }, []);\n  return React.createElement(RootStack.Navigator, {\n    headerMode: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 3\n    }\n  }, userToken && userName && userType && jwtToken ? React.createElement(RootStack.Screen, {\n    name: \"App\",\n    component: DrawerScreen,\n    options: {\n      animationEnabled: false\n    },\n    initialParams: {\n      userToken: {\n        userToken: userToken\n      },\n      userName: {\n        userName: userName\n      },\n      userType: {\n        userType: userType\n      },\n      jwtToken: {\n        jwtToken: jwtToken\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }) : React.createElement(RootStack.Screen, {\n    name: \"Auth\",\n    component: AuthStackScreen,\n    options: {\n      animationEnabled: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default (function () {\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userToken = _React$useState4[0],\n      setUserToken = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      user = _React$useState6[0],\n      setUser = _React$useState6[1];\n\n  var _React$useState7 = React.useState(null),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      userType = _React$useState8[0],\n      setUserType = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      jwtToken = _React$useState10[0],\n      setJwtToken = _React$useState10[1];\n\n  var saveAuth = function saveAuth(auth_key) {\n    return _regeneratorRuntime.async(function saveAuth$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(AUTH_STORAGE_KEY, auth_key));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            alert('Failed to save session storage');\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var saveUserName = function saveUserName(userName) {\n    return _regeneratorRuntime.async(function saveUserName$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(USER_STORAGE_KEY, userName));\n\n          case 3:\n            _context2.next = 8;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert('Failed to save session storage');\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var saveUserType = function saveUserType(userType) {\n    return _regeneratorRuntime.async(function saveUserType$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(USER_TYPE_STORAGE_KEY, userType));\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            alert('Failed to save session storage');\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var saveJWT = function saveJWT(jwt) {\n    return _regeneratorRuntime.async(function saveJWT$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(JWT_STORAGE_KEY, jwt));\n\n          case 3:\n            _context4.next = 8;\n            break;\n\n          case 5:\n            _context4.prev = 5;\n            _context4.t0 = _context4[\"catch\"](0);\n            alert('Failed to save JWT');\n\n          case 8:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var readAuth = function readAuth() {\n    var user_token, user_name, user_type;\n    return _regeneratorRuntime.async(function readAuth$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(AUTH_STORAGE_KEY));\n\n          case 3:\n            user_token = _context5.sent;\n            _context5.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(USER_STORAGE_KEY));\n\n          case 6:\n            user_name = _context5.sent;\n            _context5.next = 9;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(USER_TYPE_STORAGE_KEY));\n\n          case 9:\n            user_type = _context5.sent;\n\n            if (user_token !== null && user_name !== null && user_type !== null) {\n              setUserToken(user_token);\n              setUser(user_name);\n              setUserType(user_type);\n            } else {\n              setUserToken('');\n              setUser('');\n              setUserType('');\n            }\n\n            _context5.next = 16;\n            break;\n\n          case 13:\n            _context5.prev = 13;\n            _context5.t0 = _context5[\"catch\"](0);\n            alert('Failed to fetch session storage');\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[0, 13]], Promise);\n  };\n\n  var readJWT = function readJWT() {\n    var user_jwt;\n    return _regeneratorRuntime.async(function readJWT$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(JWT_STORAGE_KEY));\n\n          case 3:\n            user_jwt = _context6.sent;\n\n            if (user_jwt !== null) {\n              setJwtToken(user_jwt);\n            }\n\n            _context6.next = 10;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            alert('Failed to fetch session storage');\n\n          case 10:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var fetchJwt = function fetchJwt(userToken, user, userType) {\n    var data = {\n      method: 'POST',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        \"username\": user,\n        \"auth_key\": userToken,\n        \"updateAuth\": true,\n        \"user_type\": userType\n      })\n    };\n    return fetch('https://api-veen-e.ewipro.com/v1/authenticate/', data).then(function (response) {\n      if (!response.ok) throw new Error(response.status);else return response.json();\n    }).then(function (responseData) {\n      saveJWT(responseData.jwt);\n    }).catch(function (error) {});\n  };\n\n  var sendJwtForJobs = function sendJwtForJobs(jwt) {\n    var apiKey = '129937fa0cedad4fg9d0asdaf53e3faefc5';\n    var data = {\n      method: 'GET',\n      mode: \"cors\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': apiKey + \" \" + jwt\n      }\n    };\n    return fetch('https://api-veen-e.ewipro.com/v1/jobs/', data).then(function (response) {\n      if (!response.ok) throw new Error(response.status);else return response.json();\n    }).then(function (responseData) {\n      console.log(responseData);\n    }).catch(function (error) {});\n  };\n\n  var clearStorage = function clearStorage() {\n    return _regeneratorRuntime.async(function clearStorage$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.clear());\n\n          case 3:\n            _context7.next = 8;\n            break;\n\n          case 5:\n            _context7.prev = 5;\n            _context7.t0 = _context7[\"catch\"](0);\n            alert('Failed to clear session storage');\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var authContext = React.useMemo(function () {\n    return {\n      getJwt: function getJwt(user_token, user_name, user_type) {\n        fetchJwt(user_token, user_name, user_type);\n      },\n      signIn: function signIn(auth_key, userName, userType, jwt) {\n        setUserToken(auth_key);\n        setUser(userName);\n        setUserType(userType);\n        setJwtToken(jwt);\n        setIsLoading(false);\n        saveAuth(auth_key);\n        saveUserName(userName);\n        saveUserType(userType);\n        saveJWT(jwt);\n      },\n      signOut: function signOut() {\n        setIsLoading(false);\n        setUserToken(null);\n        clearStorage();\n      },\n      readJWTcontext: function readJWTcontext() {\n        readJWT();\n      },\n      getJobs: function getJobs(jwt) {\n        sendJwtForJobs(jwt);\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    setTimeout(function () {\n      setIsLoading(false);\n    }, 1000);\n  }, []);\n  React.useEffect(function () {\n    readAuth();\n  }, []);\n\n  if (isLoading) {\n    return React.createElement(Splash, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return React.createElement(AuthContext.Provider, {\n    value: authContext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }\n  }, React.createElement(RootStackScreen, {\n    userToken: userToken,\n    userName: user,\n    userType: userType,\n    jwtToken: jwtToken,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"sources":["C:/Users/sawan/Desktop/stuff/EWI-Installer-App-v2 - Copy (2)/app/App.js"],"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","createBottomTabNavigator","createDrawerNavigator","AsyncStorage","Entypo","styles","AuthContext","SignIn","CreateAccount","Projects","BarcodeScreen","JobsScreen","Details","Prospects","Profile","Splash","CameraScreen","USER_STORAGE_KEY","USER_TYPE_STORAGE_KEY","AUTH_STORAGE_KEY","JWT_STORAGE_KEY","Burger","iconStyle","burgerOptions","navigation","headerLeft","toggleDrawer","JobsStack","JobsStackScreen","route","ProfileStack","ProfileStackScreen","BarcodeStack","BarcodeStackScreen","CameraStack","CameraStackScreen","UtilityTabs","UtilityTabScreen","Tabs","TabsScreen","Drawer","DrawerScreen","useContext","getJobs","params","jwtToken","AuthStack","AuthStackScreen","title","RootStack","RootStackScreen","userToken","userName","userType","getJwt","readJWTcontext","animationEnabled","isLoading","setIsLoading","setUserToken","user","setUser","setUserType","setJwtToken","saveAuth","auth_key","setItem","alert","saveUserName","saveUserType","saveJWT","jwt","readAuth","getItem","user_token","user_name","user_type","readJWT","user_jwt","fetchJwt","data","method","mode","headers","body","JSON","stringify","fetch","then","response","ok","Error","status","json","responseData","catch","error","sendJwtForJobs","apiKey","console","log","clearStorage","clear","authContext","useMemo","signIn","signOut","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }  from \"react\";\r\nimport { View, Text, StyleSheet, Button, TextInput, TouchableOpacity, Image } from \"react-native\";\r\nimport { NavigationContainer } from \"@react-navigation/native\";\r\nimport { createStackNavigator } from \"@react-navigation/stack\";\r\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\r\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\r\nimport AsyncStorage from '@react-native-community/async-storage'\r\n//import { RNCamera } from 'react-native-camera';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport styles from './styles'\r\nimport { AuthContext } from \"./context\";\r\nimport {\r\n  SignIn,\r\n  CreateAccount,\r\n  Projects,\r\n  BarcodeScreen,\r\n  JobsScreen,\r\n  Details,\r\n  Prospects,\r\n  Profile,\r\n  Splash,\r\n  CameraScreen,\r\n} from \"./Screens\";\r\n\r\nconst USER_STORAGE_KEY = '@save_user'\r\nconst USER_TYPE_STORAGE_KEY = '@save_user_type'\r\nconst AUTH_STORAGE_KEY = '@save_auth'\r\nconst JWT_STORAGE_KEY = '@save_jwt'\r\n\r\n\r\nconst Burger = () => {\r\n  return (\r\n    <Entypo name=\"menu\" style={styles.iconStyle} size={36} color=\"black\" />\r\n  );\r\n}\r\n\r\nconst burgerOptions = ({navigation}) => ({headerLeft: () => <TouchableOpacity onPress={() => navigation.toggleDrawer()}><Burger/></TouchableOpacity>,})\r\n\r\n\r\nconst JobsStack = createStackNavigator();\r\nconst JobsStackScreen = ({navigation, route}) => {\r\n  return (\r\n  <JobsStack.Navigator screenOptions={burgerOptions}>\r\n    <JobsStack.Screen name=\"Jobs\" component={JobsScreen}/>\r\n  </JobsStack.Navigator>\r\n)};\r\n\r\n\r\n\r\nconst ProfileStack = createStackNavigator();\r\nconst ProfileStackScreen = () => (\r\n  <ProfileStack.Navigator screenOptions={burgerOptions}>\r\n    <ProfileStack.Screen name=\"Profile\" component={Profile} />\r\n  </ProfileStack.Navigator>\r\n);\r\n\r\nconst BarcodeStack = createStackNavigator();\r\nconst BarcodeStackScreen = () => (\r\n  <BarcodeStack.Navigator screenOptions={burgerOptions}>\r\n    <BarcodeStack.Screen name=\"Barcode\" component={BarcodeScreen} />\r\n  </BarcodeStack.Navigator>\r\n);\r\n\r\nconst CameraStack = createStackNavigator();\r\nconst CameraStackScreen = () => (\r\n  <CameraStack.Navigator  screenOptions={burgerOptions}>\r\n    <CameraStack.Screen name=\"Camera\" component={CameraScreen} />\r\n  </CameraStack.Navigator>\r\n);\r\n\r\nconst UtilityTabs = createBottomTabNavigator();\r\nconst UtilityTabScreen = () => (\r\n  <UtilityTabs.Navigator>\r\n    <UtilityTabs.Screen name=\"Barcode\" component={BarcodeStackScreen}  />\r\n    <UtilityTabs.Screen name=\"Camera\" component={CameraStackScreen} />\r\n  </UtilityTabs.Navigator>\r\n);\r\n\r\nconst Tabs = createBottomTabNavigator();\r\nconst TabsScreen = () => (\r\n  <Tabs.Navigator>\r\n    <Tabs.Screen name=\"Jobs\" component={JobsStackScreen}/>\r\n  </Tabs.Navigator>\r\n);\r\n\r\nconst Drawer = createDrawerNavigator();\r\nconst DrawerScreen = ({ route }) => {\r\n  const { getJobs } = React.useContext(AuthContext);\r\n  React.useEffect(() => {\r\n  getJobs(route.params.jwtToken.jwtToken)\r\n  }, []);\r\n  return(\r\n  <Drawer.Navigator initialRouteName=\"Jobs\">\r\n    <Drawer.Screen name=\"Jobs\" component={TabsScreen}/>\r\n    <Drawer.Screen name=\"Utilities\" component={UtilityTabScreen} />\r\n    <Drawer.Screen name=\"Profile\" component={ProfileStackScreen} />\r\n  </Drawer.Navigator>\r\n)};\r\n\r\n\r\nconst AuthStack = createStackNavigator();\r\nconst AuthStackScreen = () => (\r\n  <AuthStack.Navigator>\r\n    <AuthStack.Screen\r\n      name=\"SignIn\"\r\n      component={SignIn}\r\n      options={{ title: \"Sign In\" }}\r\n    />\r\n    <AuthStack.Screen\r\n      name=\"CreateAccount\"\r\n      component={CreateAccount}\r\n      options={{ title: \"Create Account\" }}\r\n    />\r\n  </AuthStack.Navigator>\r\n);\r\n\r\n\r\n\r\nconst RootStack = createStackNavigator();\r\nconst RootStackScreen = ({ userToken, userName, userType, jwtToken}) => {\r\n  const { getJwt } = React.useContext(AuthContext);\r\n  const { readJWTcontext } = React.useContext(AuthContext);\r\n  React.useEffect(() => {\r\n    getJwt(userToken,userName, userType)\r\n    readJWTcontext()\r\n  }, []);\r\n  return (\r\n  <RootStack.Navigator headerMode=\"none\">\r\n    {(userToken && userName && userType && jwtToken) ? (\r\n      <RootStack.Screen\r\n        name=\"App\"\r\n        component={DrawerScreen}\r\n        options={{\r\n          animationEnabled: false\r\n        }} initialParams={{ userToken:{userToken}, userName:{userName},userType:{userType},jwtToken:{jwtToken} }}\r\n      />\r\n    ) : (\r\n      <RootStack.Screen\r\n        name=\"Auth\"\r\n        component={AuthStackScreen}\r\n        options={{\r\n          animationEnabled: false\r\n        }}\r\n      />\r\n    )}\r\n  </RootStack.Navigator>\r\n)};\r\n\r\nexport default () => {\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [userToken, setUserToken] = React.useState(null);\r\n  const [user, setUser] = React.useState(null);\r\n  const [userType, setUserType] = React.useState(null);\r\n  const [jwtToken, setJwtToken] = React.useState(null);\r\n\r\n  const saveAuth = async (auth_key) => {\r\n    try {\r\n      await AsyncStorage.setItem(AUTH_STORAGE_KEY, auth_key)\r\n    } catch (e) {\r\n      alert('Failed to save session storage')\r\n    }\r\n  }\r\n  const saveUserName = async (userName) => {\r\n    try {\r\n      await AsyncStorage.setItem(USER_STORAGE_KEY, userName)\r\n    } catch (e) {\r\n      alert('Failed to save session storage')\r\n    }\r\n  }\r\n  const saveUserType = async (userType) => {\r\n    try {\r\n      await AsyncStorage.setItem(USER_TYPE_STORAGE_KEY, userType)\r\n    } catch (e) {\r\n      alert('Failed to save session storage')\r\n    }\r\n  }\r\n\r\n  const saveJWT= async (jwt) => {\r\n    try {\r\n      await AsyncStorage.setItem(JWT_STORAGE_KEY, jwt)\r\n    } catch (e) {\r\n      alert('Failed to save JWT')\r\n    }\r\n  }\r\n\r\n  const readAuth = async () => {\r\n    try {\r\n      const user_token = await AsyncStorage.getItem(AUTH_STORAGE_KEY)\r\n      const user_name = await AsyncStorage.getItem(USER_STORAGE_KEY)\r\n      const user_type = await AsyncStorage.getItem(USER_TYPE_STORAGE_KEY)\r\n      if (user_token !== null && user_name !== null && user_type !== null) {\r\n        setUserToken(user_token)\r\n        setUser(user_name)\r\n        setUserType(user_type)\r\n      }\r\n      else{\r\n        setUserToken('') \r\n        setUser('')\r\n        setUserType('')\r\n      }\r\n    } catch (e) {\r\n        alert('Failed to fetch session storage')\r\n    }\r\n  }\r\n\r\n  const readJWT = async () => {\r\n    try {\r\n      const user_jwt = await AsyncStorage.getItem(JWT_STORAGE_KEY)\r\n      if (user_jwt !== null) {\r\n        setJwtToken(user_jwt)\r\n      }\r\n    } catch (e) {\r\n      alert('Failed to fetch session storage')\r\n    }\r\n  }\r\n\r\n  const fetchJwt = (userToken, user, userType ) => {\r\n    let data = {\r\n      method: 'POST',\r\n      mode: \"cors\", // no-cors, cors, *same-origin *=default\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\"username\": user,\"auth_key\": userToken, \"updateAuth\":true,\"user_type\":userType})\r\n    };\r\n    return fetch('https://api-veen-e.ewipro.com/v1/authenticate/', data)\r\n    .then((response) => {\r\n        if(!response.ok) throw new Error(response.status);\r\n        else return response.json();\r\n      })\r\n    .then((responseData) => {\r\n      saveJWT(responseData.jwt)\r\n    })\r\n    .catch((error) => {\r\n    });\r\n  }\r\n\r\n  const sendJwtForJobs = (jwt) => {\r\n    const apiKey = '129937fa0cedad4fg9d0asdaf53e3faefc5'\r\n    let data = {\r\n      method: 'GET',\r\n      mode: \"cors\", // no-cors, cors, *same-origin *=default\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': apiKey + \" \" + jwt\r\n      }\r\n    };\r\n    return fetch('https://api-veen-e.ewipro.com/v1/jobs/', data)\r\n    .then((response) => {\r\n        if(!response.ok) throw new Error(response.status);\r\n        else return response.json();\r\n      })\r\n    .then((responseData) => {\r\n      console.log(responseData);\r\n    })\r\n    .catch((error) => {\r\n    });\r\n  }\r\n\r\n\r\n\r\n  const clearStorage = async () => {\r\n    try {\r\n      await AsyncStorage.clear()\r\n    } catch (e) {\r\n      alert('Failed to clear session storage')\r\n    }\r\n  }\r\n\r\n  const authContext = React.useMemo(() => {\r\n    return {\r\n      getJwt: (user_token, user_name, user_type) => {\r\n        fetchJwt(user_token, user_name, user_type)\r\n      },\r\n      signIn: (auth_key, userName, userType, jwt) => {\r\n        setUserToken(auth_key);\r\n        setUser(userName);\r\n        setUserType(userType);\r\n        setJwtToken(jwt);\r\n        setIsLoading(false);\r\n        saveAuth(auth_key);\r\n        saveUserName(userName);\r\n        saveUserType(userType);\r\n        saveJWT(jwt);\r\n      },\r\n      signOut: () => {\r\n        setIsLoading(false);\r\n        setUserToken(null);\r\n        clearStorage();\r\n      },\r\n      readJWTcontext: () =>{\r\n        readJWT();\r\n      },\r\n      getJobs: (jwt) => {\r\n        sendJwtForJobs(jwt);\r\n      },\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n  React.useEffect(() => {\r\n    readAuth();\r\n  }, []);\r\n\r\n\r\n  if (isLoading) {\r\n    return <Splash />;\r\n  }\r\n\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n      <NavigationContainer>\r\n        <RootStackScreen userToken={userToken} userName={user} userType={userType} jwtToken={jwtToken}/>\r\n      </NavigationContainer>\r\n    </AuthContext.Provider>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}