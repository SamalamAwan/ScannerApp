{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sawan\\\\EWI-Installer-App-v2\\\\app\\\\App.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { AuthContext } from \"./context\";\nimport { SignIn, CreateAccount, Search, Home, Details, Search2, Profile, Splash } from \"./Screens\";\nvar AuthStack = createStackNavigator();\n\nvar AuthStackScreen = function AuthStackScreen() {\n  return React.createElement(AuthStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }\n  }, React.createElement(AuthStack.Screen, {\n    name: \"SignIn\",\n    component: SignIn,\n    options: {\n      title: \"Sign In\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }), React.createElement(AuthStack.Screen, {\n    name: \"CreateAccount\",\n    component: CreateAccount,\n    options: {\n      title: \"Create Account\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Tabs = createBottomTabNavigator();\nvar HomeStack = createStackNavigator();\nvar SearchStack = createStackNavigator();\n\nvar HomeStackScreen = function HomeStackScreen() {\n  return React.createElement(HomeStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, React.createElement(HomeStack.Screen, {\n    name: \"Home\",\n    component: Home,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), React.createElement(HomeStack.Screen, {\n    name: \"Details\",\n    component: Details,\n    options: function options(_ref) {\n      var route = _ref.route;\n      return {\n        title: route.params.name\n      };\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar SearchStackScreen = function SearchStackScreen() {\n  return React.createElement(SearchStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, React.createElement(SearchStack.Screen, {\n    name: \"Search\",\n    component: Search,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }), React.createElement(SearchStack.Screen, {\n    name: \"Search2\",\n    component: Search2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar ProfileStack = createStackNavigator();\n\nvar ProfileStackScreen = function ProfileStackScreen() {\n  return React.createElement(ProfileStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }\n  }, React.createElement(ProfileStack.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar TabsScreen = function TabsScreen() {\n  return React.createElement(Tabs.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 3\n    }\n  }, React.createElement(Tabs.Screen, {\n    name: \"Home\",\n    component: HomeStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }), React.createElement(Tabs.Screen, {\n    name: \"Search\",\n    component: SearchStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Drawer = createDrawerNavigator();\n\nvar DrawerScreen = function DrawerScreen() {\n  return React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 3\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Home\",\n    component: TabsScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Profile\",\n    component: ProfileStackScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar RootStack = createStackNavigator();\n\nvar RootStackScreen = function RootStackScreen(_ref2) {\n  var userToken = _ref2.userToken;\n  return React.createElement(RootStack.Navigator, {\n    headerMode: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }, userToken ? React.createElement(RootStack.Screen, {\n    name: \"App\",\n    component: DrawerScreen,\n    options: {\n      animationEnabled: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }) : React.createElement(RootStack.Screen, {\n    name: \"Auth\",\n    component: AuthStackScreen,\n    options: {\n      animationEnabled: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default (function () {\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      userToken = _React$useState4[0],\n      setUserToken = _React$useState4[1];\n\n  var data = {\n    method: 'POST',\n    mode: \"cors\",\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"username\": email,\n      \"password\": password\n    })\n  };\n\n  var getAuthToken = function getAuthToken(value) {\n    var authToken;\n    return _regeneratorRuntime.async(function getAuthToken$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            authToken = JSON.stringify(value);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@auth_key', authToken));\n\n          case 4:\n            console.log(authToken);\n            _context.next = 9;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var getAuth = function getAuth() {\n    console.log(data);\n    return fetch('https://api-veen-e.ewipro.com/installer/authenticate/', data).then(function (response) {\n      if (!response.ok) throw new Error(response.status);else return response.json();\n    }).then(function (responseData) {\n      getAuthToken(responseData.auth_key);\n      setIsLoading(false);\n      setUserToken(responseData.auth_key);\n    }).catch(function (error) {\n      setError(\"Unable to log in,\" + error.toString());\n    });\n  };\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn() {\n        getAuth();\n      },\n      signUp: function signUp() {\n        setIsLoading(false);\n        setUserToken(\"asdf\");\n      },\n      signOut: function signOut() {\n        setIsLoading(false);\n        setUserToken(null);\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    setTimeout(function () {\n      setIsLoading(false);\n    }, 1000);\n  }, []);\n\n  if (isLoading) {\n    return React.createElement(Splash, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return React.createElement(AuthContext.Provider, {\n    value: authContext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, React.createElement(RootStackScreen, {\n    userToken: userToken,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"sources":["C:/Users/sawan/EWI-Installer-App-v2/app/App.js"],"names":["React","useEffect","useState","NavigationContainer","createStackNavigator","createBottomTabNavigator","createDrawerNavigator","AuthContext","SignIn","CreateAccount","Search","Home","Details","Search2","Profile","Splash","AuthStack","AuthStackScreen","title","Tabs","HomeStack","SearchStack","HomeStackScreen","route","params","name","SearchStackScreen","ProfileStack","ProfileStackScreen","TabsScreen","Drawer","DrawerScreen","RootStack","RootStackScreen","userToken","animationEnabled","isLoading","setIsLoading","setUserToken","data","method","mode","headers","body","JSON","stringify","email","password","getAuthToken","value","authToken","AsyncStorage","setItem","console","log","getAuth","fetch","then","response","ok","Error","status","json","responseData","auth_key","catch","error","setError","toString","authContext","useMemo","signIn","signUp","signOut","setTimeout"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA4C,OAA5C;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,oBAAT,QAAqC,yBAArC;AACA,SAASC,wBAAT,QAAyC,+BAAzC;AACA,SAASC,qBAAT,QAAsC,0BAAtC;AAEA,SAASC,WAAT;AACA,SACEC,MADF,EAEEC,aAFF,EAGEC,MAHF,EAIEC,IAJF,EAKEC,OALF,EAMEC,OANF,EAOEC,OAPF,EAQEC,MARF;AAWA,IAAMC,SAAS,GAAGZ,oBAAoB,EAAtC;;AACA,IAAMa,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SACtB,oBAAC,SAAD,CAAW,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAET,MAFb;AAGE,IAAA,OAAO,EAAE;AAAEU,MAAAA,KAAK,EAAE;AAAT,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,eADP;AAEE,IAAA,SAAS,EAAET,aAFb;AAGE,IAAA,OAAO,EAAE;AAAES,MAAAA,KAAK,EAAE;AAAT,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADsB;AAAA,CAAxB;;AAeA,IAAMC,IAAI,GAAGd,wBAAwB,EAArC;AACA,IAAMe,SAAS,GAAGhB,oBAAoB,EAAtC;AACA,IAAMiB,WAAW,GAAGjB,oBAAoB,EAAxC;;AAEA,IAAMkB,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SACtB,oBAAC,SAAD,CAAW,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD,CAAW,MAAX;AAAkB,IAAA,IAAI,EAAC,MAAvB;AAA8B,IAAA,SAAS,EAAEX,IAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,SAAS,EAAEC,OAFb;AAGE,IAAA,OAAO,EAAE;AAAA,UAAGW,KAAH,QAAGA,KAAH;AAAA,aAAgB;AACvBL,QAAAA,KAAK,EAAEK,KAAK,CAACC,MAAN,CAAaC;AADG,OAAhB;AAAA,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADsB;AAAA,CAAxB;;AAaA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SACxB,oBAAC,WAAD,CAAa,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD,CAAa,MAAb;AAAoB,IAAA,IAAI,EAAC,QAAzB;AAAkC,IAAA,SAAS,EAAEhB,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,WAAD,CAAa,MAAb;AAAoB,IAAA,IAAI,EAAC,SAAzB;AAAmC,IAAA,SAAS,EAAEG,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADwB;AAAA,CAA1B;;AAOA,IAAMc,YAAY,GAAGvB,oBAAoB,EAAzC;;AACA,IAAMwB,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,SACzB,oBAAC,YAAD,CAAc,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD,CAAc,MAAd;AAAqB,IAAA,IAAI,EAAC,SAA1B;AAAoC,IAAA,SAAS,EAAEd,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADyB;AAAA,CAA3B;;AAMA,IAAMe,UAAU,GAAG,SAAbA,UAAa;AAAA,SACjB,oBAAC,IAAD,CAAM,SAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,IAAI,EAAC,MAAlB;AAAyB,IAAA,SAAS,EAAEP,eAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,IAAD,CAAM,MAAN;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,SAAS,EAAEI,iBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADiB;AAAA,CAAnB;;AAOA,IAAMI,MAAM,GAAGxB,qBAAqB,EAApC;;AACA,IAAMyB,YAAY,GAAG,SAAfA,YAAe;AAAA,SACnB,oBAAC,MAAD,CAAQ,SAAR;AAAkB,IAAA,gBAAgB,EAAC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,MAApB;AAA2B,IAAA,SAAS,EAAEF,UAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,MAAD,CAAQ,MAAR;AAAe,IAAA,IAAI,EAAC,SAApB;AAA8B,IAAA,SAAS,EAAED,kBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADmB;AAAA,CAArB;;AAOA,IAAMI,SAAS,GAAG5B,oBAAoB,EAAtC;;AACA,IAAM6B,eAAe,GAAG,SAAlBA,eAAkB;AAAA,MAAGC,SAAH,SAAGA,SAAH;AAAA,SACtB,oBAAC,SAAD,CAAW,SAAX;AAAqB,IAAA,UAAU,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,SAAS,GACR,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,KADP;AAEE,IAAA,SAAS,EAAEH,YAFb;AAGE,IAAA,OAAO,EAAE;AACPI,MAAAA,gBAAgB,EAAE;AADX,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADQ,GASR,oBAAC,SAAD,CAAW,MAAX;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAElB,eAFb;AAGE,IAAA,OAAO,EAAE;AACPkB,MAAAA,gBAAgB,EAAE;AADX,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,CADsB;AAAA,CAAxB;;AAsBA,gBAAe,YAAM;AAAA,wBACenC,KAAK,CAACE,QAAN,CAAe,IAAf,CADf;AAAA;AAAA,MACZkC,SADY;AAAA,MACDC,YADC;;AAAA,yBAEerC,KAAK,CAACE,QAAN,CAAe,IAAf,CAFf;AAAA;AAAA,MAEZgC,SAFY;AAAA,MAEDI,YAFC;;AAKnB,MAAIC,IAAI,GAAG;AACTC,IAAAA,MAAM,EAAE,MADC;AAETC,IAAAA,IAAI,EAAE,MAFG;AAGTC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAHA;AAMTC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAC,kBAAYC,KAAb;AAAmB,kBAAYC;AAA/B,KAAf;AANG,GAAX;;AASA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEXC,YAAAA,SAFW,GAECN,IAAI,CAACC,SAAL,CAAeI,KAAf,CAFD;AAAA;AAAA,6CAGXE,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCF,SAAlC,CAHW;;AAAA;AAIjBG,YAAAA,OAAO,CAACC,GAAR,CAAYJ,SAAZ;AAJiB;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAUA,MAAMK,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBF,IAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACA,WAAOiB,KAAK,CAAC,uDAAD,EAA0DjB,IAA1D,CAAL,CACNkB,IADM,CACD,UAACC,QAAD,EAAc;AAChB,UAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB,MAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,MAAnB,CAAN,CAAjB,KACK,OAAOH,QAAQ,CAACI,IAAT,EAAP;AACN,KAJI,EAKNL,IALM,CAKD,UAACM,YAAD,EAAkB;AACrBf,MAAAA,YAAY,CAACe,YAAY,CAACC,QAAd,CAAZ;AACA3B,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAC,MAAAA,YAAY,CAACyB,YAAY,CAACC,QAAd,CAAZ;AACF,KATM,EAUNC,KAVM,CAUA,UAACC,KAAD,EAAW;AAChBC,MAAAA,QAAQ,CAAC,sBAAsBD,KAAK,CAACE,QAAN,EAAvB,CAAR;AACD,KAZM,CAAP;AAaD,GAfD;;AAiBA,MAAMC,WAAW,GAAGrE,KAAK,CAACsE,OAAN,CAAc,YAAM;AACtC,WAAO;AACLC,MAAAA,MAAM,EAAE,kBAAM;AACZhB,QAAAA,OAAO;AACR,OAHI;AAILiB,MAAAA,MAAM,EAAE,kBAAM;AACZnC,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAC,QAAAA,YAAY,CAAC,MAAD,CAAZ;AACD,OAPI;AAQLmC,MAAAA,OAAO,EAAE,mBAAM;AACbpC,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAC,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AAXI,KAAP;AAaD,GAdmB,EAcjB,EAdiB,CAApB;AAgBAtC,EAAAA,KAAK,CAACC,SAAN,CAAgB,YAAM;AACpByE,IAAAA,UAAU,CAAC,YAAM;AACfrC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAJD,EAIG,EAJH;;AAMA,MAAID,SAAJ,EAAe;AACb,WAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,SACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEiC,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAEnC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF;AAOD,CA1ED","sourcesContent":["import React, { useEffect, useState }  from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\n\nimport { AuthContext } from \"./context\";\nimport {\n  SignIn,\n  CreateAccount,\n  Search,\n  Home,\n  Details,\n  Search2,\n  Profile,\n  Splash\n} from \"./Screens\";\n\nconst AuthStack = createStackNavigator();\nconst AuthStackScreen = () => (\n  <AuthStack.Navigator>\n    <AuthStack.Screen\n      name=\"SignIn\"\n      component={SignIn}\n      options={{ title: \"Sign In\" }}\n    />\n    <AuthStack.Screen\n      name=\"CreateAccount\"\n      component={CreateAccount}\n      options={{ title: \"Create Account\" }}\n    />\n  </AuthStack.Navigator>\n);\n\nconst Tabs = createBottomTabNavigator();\nconst HomeStack = createStackNavigator();\nconst SearchStack = createStackNavigator();\n\nconst HomeStackScreen = () => (\n  <HomeStack.Navigator>\n    <HomeStack.Screen name=\"Home\" component={Home} />\n    <HomeStack.Screen\n      name=\"Details\"\n      component={Details}\n      options={({ route }) => ({\n        title: route.params.name\n      })}\n    />\n  </HomeStack.Navigator>\n);\n\nconst SearchStackScreen = () => (\n  <SearchStack.Navigator>\n    <SearchStack.Screen name=\"Search\" component={Search} />\n    <SearchStack.Screen name=\"Search2\" component={Search2} />\n  </SearchStack.Navigator>\n);\n\nconst ProfileStack = createStackNavigator();\nconst ProfileStackScreen = () => (\n  <ProfileStack.Navigator>\n    <ProfileStack.Screen name=\"Profile\" component={Profile} />\n  </ProfileStack.Navigator>\n);\n\nconst TabsScreen = () => (\n  <Tabs.Navigator>\n    <Tabs.Screen name=\"Home\" component={HomeStackScreen} />\n    <Tabs.Screen name=\"Search\" component={SearchStackScreen} />\n  </Tabs.Navigator>\n);\n\nconst Drawer = createDrawerNavigator();\nconst DrawerScreen = () => (\n  <Drawer.Navigator initialRouteName=\"Profile\">\n    <Drawer.Screen name=\"Home\" component={TabsScreen} />\n    <Drawer.Screen name=\"Profile\" component={ProfileStackScreen} />\n  </Drawer.Navigator>\n);\n\nconst RootStack = createStackNavigator();\nconst RootStackScreen = ({ userToken }) => (\n  <RootStack.Navigator headerMode=\"none\">\n    {userToken ? (\n      <RootStack.Screen\n        name=\"App\"\n        component={DrawerScreen}\n        options={{\n          animationEnabled: false\n        }}\n      />\n    ) : (\n      <RootStack.Screen\n        name=\"Auth\"\n        component={AuthStackScreen}\n        options={{\n          animationEnabled: false\n        }}\n      />\n    )}\n  </RootStack.Navigator>\n);\n\nexport default () => {\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [userToken, setUserToken] = React.useState(null);\n\n\n  let data = {\n    method: 'POST',\n    mode: \"cors\", // no-cors, cors, *same-origin *=default\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\"username\": email,\"password\": password})\n  };\n\n  const getAuthToken = async (value) => {\n    try {\n      const authToken = JSON.stringify(value)\n      await AsyncStorage.setItem('@auth_key', authToken)\n      console.log(authToken)      \n    } catch (e) {\n      // saving error\n    }\n  }\n\n  const getAuth = () => {\n    console.log(data)\n    return fetch('https://api-veen-e.ewipro.com/installer/authenticate/', data)\n    .then((response) => {\n        if(!response.ok) throw new Error(response.status);\n        else return response.json();\n      })\n    .then((responseData) => {\n       getAuthToken(responseData.auth_key)\n       setIsLoading(false);\n       setUserToken(responseData.auth_key);\n    })\n    .catch((error) => {\n      setError(\"Unable to log in,\" + error.toString());\n    });\n  }\n\n  const authContext = React.useMemo(() => {\n    return {\n      signIn: () => {\n        getAuth();\n      },\n      signUp: () => {\n        setIsLoading(false);\n        setUserToken(\"asdf\");\n      },\n      signOut: () => {\n        setIsLoading(false);\n        setUserToken(null);\n      }\n    };\n  }, []);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 1000);\n  }, []);\n\n  if (isLoading) {\n    return <Splash />;\n  }\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      <NavigationContainer>\n        <RootStackScreen userToken={userToken} />\n      </NavigationContainer>\n    </AuthContext.Provider>\n  );\n};"]},"metadata":{},"sourceType":"module"}